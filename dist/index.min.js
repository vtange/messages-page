"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ConfettiGenerator=t()}(void 0,function(){return function(e){var o={target:"confetti-holder",max:80,size:1,animate:!0,respawn:!0,props:["circle","square","triangle","line"],colors:[[165,104,246],[230,61,135],[0,199,228],[253,214,126]],clock:25,interval:null,rotate:!1,start_from_edge:!1,width:window.innerWidth,height:window.innerHeight};if(e&&(e.target&&(o.target=e.target),e.max&&(o.max=e.max),e.size&&(o.size=e.size),null!=e.animate&&(o.animate=e.animate),null!=e.respawn&&(o.respawn=e.respawn),e.props&&(o.props=e.props),e.colors&&(o.colors=e.colors),e.clock&&(o.clock=e.clock),null!=e.start_from_edge&&(o.start_from_edge=e.start_from_edge),e.width&&(o.width=e.width),e.height&&(o.height=e.height),null!=e.rotate&&(o.rotate=e.rotate)),"object"!=_typeof(o.target)&&"string"!=typeof o.target)throw new TypeError("The target parameter should be a node or string");if("object"==_typeof(o.target)&&(null===o.target||!o.target instanceof HTMLCanvasElement)||"string"==typeof o.target&&(null===document.getElementById(o.target)||!document.getElementById(o.target)instanceof HTMLCanvasElement))throw new ReferenceError("The target element does not exist or is not a canvas element");var r="object"==_typeof(o.target)?o.target:document.getElementById(o.target),n=r.getContext("2d"),a=[];function i(e,t){e=e||1;e=Math.random()*e;return t?Math.floor(e):e}var s=o.props.reduce(function(e,t){return e+(t.weight||1)},0);function l(){o.animate=!1,clearInterval(o.interval),requestAnimationFrame(function(){n.clearRect(0,0,r.width,r.height);var e=r.width;r.width=1,r.width=e})}return{render:function(){r.width=o.width,r.height=o.height,a=[];for(var e,t=0;t<o.max;t++)a.push((e=void 0,{prop:(e=o.props[function(){for(var e=Math.random()*s,t=0;t<o.props.length;++t){var r=o.props[t].weight||1;if(e<r)return t;e-=r}}()]).type||e,x:i(o.width),y:o.start_from_edge?o.clock<0?parseFloat(o.height)+10:-10:i(o.height),src:e.src,radius:i(4)+1,size:e.size,rotate:o.rotate,line:Math.floor(i(65)-30),angles:[i(10,!0)+2,i(10,!0)+2,i(10,!0)+2,i(10,!0)+2],color:o.colors[i(o.colors.length,!0)],rotation:i(360,!0)*Math.PI/180,speed:i(o.clock/7)+o.clock/30}));return requestAnimationFrame(function e(){for(var t in n.clearRect(0,0,o.width,o.height),a)!function(e){if(e)switch(n.fillStyle=n.strokeStyle="rgba("+e.color+", "+(3<e.radius?.8:.4)+")",n.beginPath(),e.prop){case"circle":n.moveTo(e.x,e.y),n.arc(e.x,e.y,e.radius*o.size,0,2*Math.PI,!0),n.fill();break;case"triangle":n.moveTo(e.x,e.y),n.lineTo(e.x+e.angles[0]*o.size,e.y+e.angles[1]*o.size),n.lineTo(e.x+e.angles[2]*o.size,e.y+e.angles[3]*o.size),n.closePath(),n.fill();break;case"line":n.moveTo(e.x,e.y),n.lineTo(e.x+e.line*o.size,e.y+5*e.radius),n.lineWidth=2*o.size,n.stroke();break;case"square":n.save(),n.translate(e.x+15,e.y+5),n.rotate(e.rotation),n.fillRect(-15*o.size,-5*o.size,15*o.size,5*o.size),n.restore();break;case"svg":n.save();var t=new window.Image;t.src=e.src;var r=e.size||15;n.translate(e.x+r/2,e.y+r/2),e.rotate&&n.rotate(e.rotation),n.drawImage(t,-r/2*o.size,-r/2*o.size,r*o.size,r*o.size),n.restore()}}(a[t]);!function(){for(var e=0;e<o.max;e++){var t=a[e];t&&(o.animate&&(t.y+=t.speed),t.rotate&&(t.rotation+=t.speed/35),(0<=t.speed&&o.height<t.y||t.speed<0&&t.y<0)&&(o.respawn?(a[e]=t,a[e].x=i(o.width,!0),a[e].y=t.speed<0?parseFloat(o.height):-10):a[e]=void 0))}a.every(function(e){return void 0===e})&&l()}(),o.animate&&requestAnimationFrame(e)})},clear:l}}});