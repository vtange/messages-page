"use strict";var lid=document.querySelector("#lid");lid.addEventListener("click",function(e){confetti.fire(e),open_box()});var box=document.querySelector("#box .front");box.addEventListener("click",function(e){confetti.fire(e),open_box()});var confettiRainSettings={target:"confettiRain",clock:12},confettiRain=new ConfettiGenerator(confettiRainSettings),confetti=new Confetti("confetti");confetti.setCount(125),confetti.setSize(2),confetti.setPower(55),confetti.setFade(!1),confetti.destroyTarget(!1);var musicbox_shouldPlay=!1,musicbox_audioLoaded=!1,audioElement=new Audio("audio/Blue_Clapper_music_box_ver_040621v2.mp3");audioElement.addEventListener("canplaythrough",function(){musicbox_audioLoaded=!0,audioElement.loop=!0,audioElement.volume=slider.value/100,musicbox_shouldPlay&&audioElement.play()});var ytplayer,box_opened=!1,init_page=document.getElementById("init-page");function open_box(){var e,t;document.getElementById("box-container").classList.add("open"),box_opened||(box_opened=!0,e=document.getElementById("white-full"),t=document.getElementById("content"),setTimeout(function(){e.style.opacity=1,setTimeout(function(){confetti.pause(),confettiRain.render(),init_page.style.display="none",t.classList.add("open"),init(),musicbox_audioLoaded?audioElement.play():musicbox_shouldPlay=!0,setTimeout(function(){e.style.opacity=0},500)},1e3)},1e3))}function init(){AOS.init({delay:50,duration:1e3,mirror:!0,once:!1}),new SimpleLightbox("#artbook-gallery a").on("error.simplelightbox",function(e){console.log(e)})}function onYouTubeIframeAPIReady(){ytplayer=new YT.Player("ytplayer",{videoId:"0NOcQ9IOX9U",playerVars:{playsinline:1},events:{onStateChange:onPlayerStateChange}})}function onPlayerStateChange(e){-1==e.data||1==e.data?(mute(!0),volumeIcon.style.pointerEvents="none"):0!=e.data&&2!=e.data||(mute(!1),volumeIcon.style.pointerEvents="")}"scale(0)"===window.getComputedStyle(init_page).transform&&open_box();var volumeIcon=document.getElementById("volume-icon");function mute(e){e?volumeIcon.classList.add("muted"):volumeIcon.classList.remove("muted"),slider.disabled=e,audioElement.muted=e}volumeIcon.addEventListener("click",function(e){audioElement.muted?mute(!1):mute(!0)});var slider=document.getElementById("musicbox-volume");slider.oninput=function(e){audioElement.volume=Math.min(1,this.value/100)};